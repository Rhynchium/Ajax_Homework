
@{
    ViewData["Title"] = "作業3_確認帳號";
}

<h1>作業3_確認帳號</h1>
<span>
    @Html.ActionLink("回上一頁", "Third", "Home", null, new { @class="btn btn-warning"})
</span>
<hr />
<div id="result"></div>

<input type="text" name="Name">
<input type="submit" value="確認帳號" id="button1" class="btn btn-primary" />

@section Scripts{
    <script>
        const but = document.querySelector("#button1");
        but.addEventListener("click", () => {
            const xhr = new XMLHttpRequest();
            xhr.open("GET", "/Home/SignUp");
            xhr.send();
            xhr.addEventListener("load", () => {
                const data = xhr.responseText;
                //顯示資料
                if (data.Name.Contains(Name)){
                    document.querySelector("#result").innerHtml = "帳號已註冊";
                }
                else {
                    document.querySelector("#result").innerHtml = "帳號未註冊";
                }
            })
        }) 

    </script>
}

